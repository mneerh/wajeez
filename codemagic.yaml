workflows:
  flutterflow_ci_cd:
    name: FlutterFlow CI/CD with Tests
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: "*"
          include: true
    environment:
      flutter: stable
    scripts:
      - name: Install dependencies
        script: flutter pub get

      - name: Run Functional Tests
        script: flutter test
        continue-on-error: true

      - name: Run Non-Functional Tests
        script: flutter analyze
        continue-on-error: true

    artifacts:
      - build/**/outputs/**/*.apk

    publishing:
      email:
        recipients:
          - mnalsaeed0@gmail.com
        notify:
          success: true
          failure: true
